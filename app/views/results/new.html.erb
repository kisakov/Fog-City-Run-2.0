<!DOCTYPE html>
<html>
<head>
  <title>Users</title>
</head>
<nav class="navbar navbar-default navbar-fixed-top">
  <a class="navbar-brand" href="#"><b>Fog City Run</b></a>
  <ul class="nav navbar-nav">
    <li class="nav-item">
      <a class="nav-link" <%= link_to "Home", root_path %></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" <%= link_to 'Racers', racers_path %></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" <%= link_to 'Races', races_path %></a>
    </li>
    <li class="nav-item">
      <a class="nav-link" <%= link_to 'Loop-Beer-Loop', loop_beer_path %></a>
    </li>
    <%= render "shared/import_button" %>
  </ul>
  <%= render "shared/login" %>
</nav>
<body style="padding-top: 60px">
<div class="container-fluid">
  <div class="row">
    <div class="col-md-3 col-md-offset-1">
      <h2> New Result </h2>
    </div>
  </div>
  <%= form_for @result, :html => {:class => "form-horizontal "} do |r| %>
    <% if @result.errors.any? %>
      <div id="error_explanation">
        <h2>
          <%= pluralize(@result.errors.count, "error") %> prohibited
          this result from being saved:
        </h2>
        <ul>
          <% @result.errors.full_messages.each do |msg| %>
            <li><%= msg %></li>
          <% end %>
        </ul>
      </div>
    <% end %>
  <div class="form-group">
    <%= r.label :bib, "Bib:", class: "col-md-1 control-label" %>
      <div class="col-md-3">
        <%= r.text_field :bib, class: "form-control", :value => Result.where(:race_id => params[:race_id]).maximum(:bib) + 1 %>
      </div>
      ** Auto: Highest bib number in race + 1
  </div>
  <div class="form-group">
    <%= r.label :racer_id, "Racer:", class: "col-md-1 control-label" %>
      <div class="col-md-3">
        <%= r.text_field :racer_id, class: "form-control" %>
      </div>
      ** racer_id, not name
  </div>
  <div class="form-group">
    <%= r.label :group_name, "Group Name:", class: "col-md-1 control-label" %>
      <div class="col-md-3">
        <%= r.text_field :group_name, class: "form-control", :value => 'ALL' %>
      </div>
  </div>
  <div class="form-group">
    <%= r.label :time, "Time:", class: "col-md-1 control-label" %>
      <div class="col-md-3">
        <%= r.text_field :time, class: "form-control", :value => '00:00:00.0' %>
      </div>
  </div>
  <div class="form-group">
    <%= r.label :race_id, "Race:", class: "col-md-1 control-label" %>
      <div class="col-md-3">
        <%= r.text_field :race_id, class: "form-control", :value => params[:race_id] %>
      </div>
  </div>
  <div class="form-group">
    <div class="col-md-1 col-md-offset-1">
    <%=button_tag "Submit", class: "btn btn-success"%>
    </div>
  </div>
  </div>
  <% end %>
</body>
</html>